<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <base href="http://localhost:63342/ham/app/web/">
    <title>Title</title>
    <link href="./libs/bootstrap.min.css" rel="stylesheet"/>
    <script src="./libs/vue.js"></script>
    <script src="./libs/httpVueLoader.js"></script>
    <script src="./libs/axios.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./vcss/style.css" />
</head>

<body>
<div id="app">
    <button type="button" class="btn btn-primary" id="show-modal-e" @click="showTheModalEdit">
        Edit
    </button>
    <button type="button" class="btn btn-primary" id="show-modal-n" @click="showTheModalNew">
        New
    </button>
    <!-- use the modal component, pass in the prop -->
    <kvp-modal v-if="showModal"
               :modal-data="modalData"
               @close="showModal = false">
    </kvp-modal>
</div>
<script type="text/javascript">

    new Vue({
        el: '#app',
        components: {
            'kvp-modal': httpVueLoader('vcomponents/tkvpmodal.vue')
        },
        data:{
            showModal: false,
            modalData:null
        },
        methods:{
            showTheModalEdit:function(){
                this.modalData={
                    valDesc:"val desc",
                    valValue:"val value",
                    keyDesc:"key desc",
                    keyValue:"key value",
                    title:"title",
                    edit:true,
                    save:this.saveTheModal
                };
                this.showModal=true;
            },
            showTheModalNew:function(){
                this.modalData={
                    valDesc:"val desc",
                    valValue:"val value",
                    keyDesc:"key desc",
                    keyValue:"key value",
                    title:"title",
                    edit:false,
                    save:this.saveTheModal
                };
                this.showModal=true;
            },
            saveTheModal:function(){
                alert(JSON.stringify(this.modalData));
            }
        }
    });
</script>
</body>

</html>