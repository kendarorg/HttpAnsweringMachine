<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="./libs/bootstrap.min.css" rel="stylesheet"/>
    <script src="./libs/vue.js"></script>
    <script src="./libs/httpVueLoader.js"></script>
    <script src="./libs/axios.min.js"></script>
    <link href="/libs/icons/bootstrap-icons.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="./vcss/style.css" />
</head>
<body>
<div class="container" id="app">
    <div class="row">
        <div class="col-md-8">
            <h3>MAIN FUNCTIONS</h3>
            <simple-grid
                    ref="pluginsGrid"
                    :columns="gridColumns"
                    :extra="extraColumns"
                    :retrieve-data="mainRetrieveData"
            >
            </simple-grid>
        </div>
        <div class="col-md-8">
            <h3>PLUGINS</h3>
            <simple-grid
                    ref="pluginsGrid"
                    :columns="gridColumns"
                    :extra="extraColumns"
                    :retrieve-data="pluginsRetrieveData"
            >
            </simple-grid>
        </div>
    </div>
</div>
<script type="text/javascript">
    new Vue({
        el: '#app',
        components: {
            'simple-grid': httpVueLoader('vcomponents/testgrid.vue')
        },
        data:{
            extraColumns:[],
            gridColumns: [
                {id:"description",template:"string",index:true},
                {id:"address",template:"link",name:"Go",searchable:false,sortable:false}
            ]
        },
        methods:{
            pluginsRetrieveData: async function(){
                var result = await axios.get("/api/plugins");
                return result;
            },
            mainRetrieveData: async function(){
                var result = {data:null};
                result.data = [
                    {
                        address:"dns/index.html",
                        description:"Dns"
                    },
                    {
                        address:"proxy/index.html",
                        description:"Url rewrite"
                    },
                    {
                        address:"certificates/index.html",
                        description:"SSL/Certificates"
                    },
                    {
                        address:"utils/index.html",
                        description:"Utils"
                    },
                    {
                        address:"logs/index.html",
                        description:"Logs Management"
                    },
                    {
                        address:"logs/list.html",
                        description:"Logs Viewer"
                    },
                    {
                        address:"swagger/index.html",
                        description:"Swagger"
                    },
                    {
                        address:"utils/settings.html",
                        description:"Settings"
                    },
                    {
                        address:"utils/restclient.html",
                        description:"Simple REST Client"
                    }
                ]
                return result;
            }
        }
    });
</script>
</body>
</html>